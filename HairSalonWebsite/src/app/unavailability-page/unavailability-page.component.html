<!--Calendar and add appointment button-->
<div *ngIf="!unavailabilityLoading"> <!--if appointments are done loading, show page-->
    <mat-button-toggle style="margin-left:100px; margin-top:20px" (click)="setCreateUnavailability()">Add Unavailability</mat-button-toggle>
    <app-event-calendar #appCalendar [calEvents]="events" [supportCRUD]="true" (deleteEvent)="deleteUnavailability($event)" 
                        (updateEvent)="startUpdateUnavailability($event)" (createEvent)="setCreateUnavailability()"></app-event-calendar>
  </div>
  
  <ng-template #addDialog> <!--This template allows both forms to display as pop up menus-->

    <!--Add unavailability form-->
    <div *ngIf="addingUnavailability" class = "container">
      <form>
          <div>
            <div style="float:left">
              <div class="mb-5"> <!--Input for stylist Name-->
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" required id="name" [(ngModel)]="this.stylistName" name = "name">
              </div>
              <div class="mb-5"> <!--Input for unavailability start date-->
                <label for="date" class="form-label">Start Date</label>
                <input type="datetime-local" class="form-control" required id="date" [(ngModel)]="this.startDate" name = "date">
              </div>
              <div class="mb-5"> <!--Input for unavailability end date-->
                <label for="date" class="form-label">End Date</label>
                <input type="datetime-local" class="form-control" required id="date" [(ngModel)]="this.endDate" name = "date">
              </div>
            </div>
            <div style="float:left">
              <mat-form-field appearance="fill"> <!--Input for unavailability frequency-->
                <mat-label>Period</mat-label>
                <mat-select [(ngModel)]="period">
                  <mat-option *ngFor="let p of timePeriods" [value]="p">
                    {{p.toString()}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="mb-5"> <!--Input for ID of stylist with unavailability-->
                <label for="stylistid" class="form-label">Stylist ID</label>
                <input type="number" class="form-control" required id="stylistid" [(ngModel)]="this.stylistid" name = "stylistid">
              </div>
            </div>
          </div>
          
          <!--Buttons to submit or cancel unavailability-->
          <button mat-flat-button color="primary" style = "margin: 1%" type="submit" (click)="addUnavailability()">Submit</button>
          <button mat-flat-button style = "margin: 1%" (click)="closeDialog()">Cancel</button>
        </form>
    </div>
  
    <!--Update unavailability form-->
    <div *ngIf="updatingUnavailability" class = "container">
      <form>
        <div>
          <div style="float:left">
            <div class="mb-5"> <!--Input for stylist Name-->
              <label for="name" class="form-label">Name</label>
              <input type="text" class="form-control" required id="name" [(ngModel)]="this.stylistName" name = "name">
            </div>
            <div class="mb-5"> <!--Input for unavailability start date-->
              <label for="date" class="form-label">Start Date</label>
              <input type="datetime-local" class="form-control" required id="date" [(ngModel)]="this.startDate" name = "date">
            </div>
            <div class="mb-5"> <!--Input for unavailability end date-->
              <label for="date" class="form-label">End Date</label>
              <input type="datetime-local" class="form-control" required id="date" [(ngModel)]="this.endDate" name = "date">
            </div>
          </div>
          <div style="float:left">
            <div class="mb-5"> <!--Input for unavailability frequency-->
                <mat-form-field appearance="fill">
                  <mat-label>Period</mat-label>
                  <mat-select [(ngModel)]="period">
                    <mat-option *ngFor="let p of timePeriods" [value]="p">
                      {{p.toString()}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
            </div>
            <div class="mb-5"> <!--Input for ID of stylist with unavailability-->
              <label for="stylistid" class="form-label">Stylist ID</label>
              <input type="number" class="form-control" required id="stylistid" [(ngModel)]="this.stylistid" name = "stylistid">
            </div>
          </div>
        </div>

          <!--Buttons to submit or cancel unavailability-->
          <button mat-flat-button color="primary" style = "margin: 1%" type="submit" (click)="updateUnavailability()">Submit</button>
          <button mat-flat-button style = "margin: 1%" (click)="closeDialog()">Cancel</button>
        </form>
    </div>
  
  </ng-template>